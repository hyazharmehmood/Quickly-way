# DigitalOcean VPS Deployment Guide - Quicklyway

Deploying to a VPS (DigitalOcean Droplet) gives you more control and is more cost-effective for high-traffic apps. Since Quicklyway is a monorepo, we will use **PM2** to manage the processes and **Nginx** as a reverse proxy.

## 1. Prerequisites
- A DigitalOcean Droplet (Ubuntu 22.04+ recommended).
- Node.js installed (v20+ recommended).
- PM2 (`npm install -g pm2`).
- Nginx installed (`sudo apt install nginx`).

## 2. Server Setup & Cloning
```bash
# Clone the repository
git clone https://github.com/tahaishfaq/quicklyway.git
cd quicklyway

# Install dependencies
npm install

# Build all packages (frontend & backend shared)
npm run build
```

## 3. Environment Variables
Create `.env` files in `frontend/` and `backend/` as you usually do. Ensure `FRONTEND_URL` in the backend points to your server's domain.

## 4. Run with PM2
We will start two separate processes: one for the Express API and one for the Next.js Frontend.

```bash
# Start Backend
pm2 start backend/server.js --name quicklyway-api

# Start Frontend
pm2 start "npm run start" --name quicklyway-web --cwd ./frontend
```

## 5. Nginx Configuration
Configure Nginx to route traffic to both apps.

Edit your site config: `sudo nano /etc/nginx/sites-available/quicklyway`

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    # Route API requests to the Backend (Port 3001)
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # Route all other requests to the Frontend (Port 3000)
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## 6. Differences from Vercel
- **Persistent Connection**: Unlike Vercel (Serverless), your VPS backend stays "alive" 24/7. This allows for scheduled tasks, long-running processes, and faster initial response times.
- **Manual Management**: You are responsible for redeploying after code changes (`git pull && npm run build && pm2 restart all`).
- **Cost**: A flat monthly fee regardless of how many serverless executions you use.

---
*Generated by Antigravity (Advanced Agentic AI)*
